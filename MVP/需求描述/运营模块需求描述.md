# 运营端模块设计文档


  - 查看学员的评价记录(筛选条件: 时间，有无评价记录，特定课程体系的特定课程进度(百分比)，评价老师)，查看教师和教研筛选出来的特定的学生的评价记录，方便线下操作。
  - 学员信息录入，编辑，删除等管理工作
  - 
    - 运营对学生进行标签的crud管理 比如:困难，练琴时间少
  -     提醒事项 参考第一份文档运营收到来自教师的提示(附着在课程评价），收到来自教研的提示 ——> 转为待办事项并进行线下回访，回访后更新回访记录 => 视需求更新公告或进行标签管理
    
  回访记录crud管理
 - 回访: 学员，回访记录，回访原因，回访状态，回访结果。

   

  - 运营向老师们和教研发送公告

 

## 模块1. 学员信息管理模块（/operations/students/）

### 1.1 学员列表展示 (GET `/operations/students/api/`)
- **显示字段（优先级）**：
  - 列表：昵称、别名、分组、进度、学员状态、是否困难、任课老师、最近点评摘要
  - 详情页：教研备注、运营备注、历史点评记录、回访记录、小鹅通ID、注册时间、累计学习时长
- **搜索**：支持昵称/备注名模糊搜索、用户ID精确搜索
- **排序**：按进度、累计学习时长排序
- **操作**：
  - 点击“编辑”进入学员详情，更新昵称、别名、分组、运营备注、学员状态

### 1.2 学员创建/更新
- **新建学员**：至少填写用户ID与昵称（POST `/operations/students/create/`）
- **更新信息**：学员基础信息（POST `/operations/students/<student_id>/update/`）
- **字段**：别名、分组（多选：基础班/中级班/高级班/视唱练耳）、运营备注、学员状态（加入/活跃/已毕业/已归档）

### 1.3 批量导入学员 (POST `/operations/students/batch-import/`)
- **文件**：XLSX
- **校验**：文件后缀、表头格式
- **规则**：
  - 不存在 → 新建
  - 已存在 → 更新昵称（仅当不同）
- **反馈**：返回新增/更新/失败统计及错误日志

---

## 模块2. 运营任务管理模块（/operations/tasks/）

### 2.1 待办事项列表 (GET `/operations/tasks/api/`)
- **来源**：
  - 教师端推送（`push_ops`）
  - 系统规则推送（如：三周未回课/多次未通过）
  - 教务推送
  - 手动添加（POST `/operations/tasks/manual/`）
- **展示字段**：学生昵称、分组、学员状态、进度、回访次数、推送来源、处理状态
- **筛选**：按处理状态（待办/已联系/未回复/已关闭）
- **搜索**：昵称/别名模糊
- **操作**：进入任务详情页，更新状态、添加回访记录；“已关闭”的任务默认从列表隐藏

---

## 模块3. 回访记录管理（/operations/visits/）

### 3.1 回访记录列表 (GET `/operations/visits/` 或 `/operations/visits/api/`)
- **展示字段**：记录ID、学生昵称、回访时间、回访状态、累计回访次数、任课老师、回访记录
- **筛选**：回访状态、学员ID
- **搜索**：昵称/别名/备注
- **排序**：回访时间倒序

### 3.2 新增回访记录 (POST `/operations/visits/create/`)
- **字段**：`student_id`、`visit_status`、`visit_note`、`teacher_name`（可选）
- **自动**：`visit_time` 自动填充为当前时间；`visit_count` 自动累加

---

## 权限与安全
- 仅 `operator` 角色可以访问运营端页面与接口
- 所有接口需登录
- 对列表接口提供分页（默认20/页）

---

## 数据一致性
- 学员进度与 `Feedback` 最新记录保持同步
- 运营待办中的 `visit_count` 与回访记录累计数保持一致


---
